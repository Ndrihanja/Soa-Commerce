<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head th:replace="fragments::head">
</head>
<body>
<!-- ======= Header ======= -->
<header th:replace = "fragments::header"></header>
<!-- End Header -->

<!-- ======= Sidebar ======= -->
<aside th:replace = "fragments::sidebar"></aside>
<!-- End Sidebar-->

<main id="main" class="main">

  <div th:replace = "fragments::titlepage"></div>
  <!-- End Page Title -->

  <section class="section dashboard">
    <div class="row">
      <h1>Ajout de Produits</h1>
    </div>

    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Multi Columns Form</h5>

        <!-- Multi Columns Form -->
        <form class="row g-3" th:action="@{/update-product/{id} (id = ${productDto.id})}" method="post" enctype="multipart/form-data" th:object="${productDto}">
          <div class="col-md-12">
            <label for="name" class="form-label">Nom produit</label>
            <input type="text" th:field="*{name}" name="name" class="form-control" id="name" placeholder="Insérez le nom du produit">
          </div>
          <div class="col-md-6">
            <label for="description" class="form-label">Déscription</label>
            <div>
              <textarea th:field="*{description}" name="description" class="form-control" id="description"></textarea>
            </div>
          </div>
          <div class="col-md-6">
            <label for="categories" class="form-label">Catégorie</label>
            <div>
              <select id="categories" th:field="*{category}" name="categories" class="form-select">
                <option th:value="null">Choose...</option>
                <option th:each="category : ${categories}"
                        th:value="${category.id}"
                        th:text="${category.name}">

                </option>
              </select>
            </div>
          </div>
          <div class="col-12">
            <label for="costPrice" class="form-label">Prix de vente</label>
            <input type="text" th:field="*{costPrice}" name="costPrice" class="form-control" id="costPrice" placeholder="0.0">
          </div>
          <div class="col-12">
            <label for="salePrice" class="form-label">Prix d'achat</label>
            <input type="text" th:field="*{salePrice}" name="salePrice" class="form-control" id="salePrice" placeholder="0.0">
          </div>
          <div class="col-12">
            <label for="currentQuantity" class="form-label">Quantité</label>
            <input type="text" class="form-control" th:field="*{currentQuantity}" name="currentQuantity" id="currentQuantity" placeholder="Quantité du produit">
          </div>
          <div class="col-md-6">
            <label for="imageProduct" class="form-label">Image</label>
            <div>
              <img src="" style="height: 40px; width: 40px;" th:src="*{'data:image/jpeg;base64,' + {image}}">
            </div>
            <input type="file" class="input-file" id="imageProduct" name="imageProduct">
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-primary">Submit</button>
            <button type="reset" class="btn btn-secondary">Reset</button>
          </div>
        </form><!-- End Multi Columns Form -->

      </div>
    </div>

  </section>

</main>
<!-- End #main -->

<!-- ======= Footer ======= -->
<footer th:replace="fragments::footer"></footer>
<!-- End Footer -->

<!-- script -->
<div th:replace = "fragments::script"></div>
</body>
</html>